<script>

const WORKER = "https://throbbing-glitter-9b1e.donthulanithish53.workers.dev";

async function loadFiles(){

    const response = await fetch(WORKER);
    const files = await response.json();

    const container = document.getElementById("buttons");
    container.innerHTML = "";

    files.forEach(name => {

        const btn = document.createElement("button");

        btn.innerText = "Run " + name;
        btn.style.padding="15px 30px";
        btn.style.margin="10px";
        btn.style.fontSize="18px";
        btn.style.background="green";
        btn.style.color="white";
        btn.style.border="none";
        btn.style.borderRadius="8px";

        btn.onclick = async () => {
            btn.innerText = "Starting...";
            await fetch(`${WORKER}/?file=${name}`);
            btn.innerText = "Triggered!";
        };

        container.appendChild(btn);
    });
}

loadFiles();

</script>
