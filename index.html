<!DOCTYPE html>
<html>
<head>
  <title>Java Control Panel</title>
</head>
<body style="text-align:center;font-family:Arial">

<h1>My Java Programs</h1>

<div id="buttons"></div>

<script>
const USER = "YOUR_USERNAME";
const REPO = "run";

async function loadFiles() {

  const res = await fetch(
    `https://api.github.com/repos/${USER}/${REPO}/contents`
  );

  const files = await res.json();

  const container = document.getElementById("buttons");

  files.forEach(file => {

    if(file.name.endsWith(".java")) {

      const btn = document.createElement("button");
      btn.innerText = "Run " + file.name;
      btn.style.margin="10px";
      btn.style.padding="12px 25px";

      btn.onclick = () => {
        fetch(`https://throbbing-glitter-9b1e.donthulanithish53.workers.dev/?file=${file.name}`);
      };

      container.appendChild(btn);
    }
  });
}

loadFiles();
</script>

</body>
</html>
